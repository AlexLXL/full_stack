## 1.Vite

- Vite (æ³•è¯­æ„ä¸º "å¿«é€Ÿçš„"ï¼Œå‘éŸ³ /vit/) æ˜¯ä¸‹ä¸€ä»£å‰ç«¯å¼€å‘ä¸æ„å»ºå·¥å…·
- ğŸ’¡ æé€Ÿçš„æœåŠ¡å¯åŠ¨ ä½¿ç”¨åŸç”Ÿ ESM æ–‡ä»¶ï¼Œæ— éœ€æ‰“åŒ…!
- âš¡ï¸ è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ æ— è®ºåº”ç”¨ç¨‹åºå¤§å°å¦‚ä½•ï¼Œéƒ½å§‹ç»ˆæå¿«çš„æ¨¡å—çƒ­é‡è½½ï¼ˆHMRï¼‰
- ğŸ› ï¸ ä¸°å¯Œçš„åŠŸèƒ½ å¯¹ TypeScriptã€JSXã€CSS ç­‰æ”¯æŒå¼€ç®±å³ç”¨ã€‚
- ğŸ“¦ ä¼˜åŒ–çš„æ„å»º å¯é€‰ â€œå¤šé¡µåº”ç”¨â€ æˆ– â€œåº“â€ æ¨¡å¼çš„é¢„é…ç½® Rollup æ„å»º
- ğŸ”© é€šç”¨çš„æ’ä»¶ åœ¨å¼€å‘å’Œæ„å»ºä¹‹é—´å…±äº« Rollup-superset æ’ä»¶æ¥å£ã€‚
- ğŸ”‘ å®Œå…¨ç±»å‹åŒ–çš„API çµæ´»çš„ API å’Œå®Œæ•´ TypeScript

## 2.é…ç½®å¼€å‘ç¯å¢ƒ

#### 2.1 å®‰è£…ä¾èµ–

```
npm install vue -S
npm install @vitejs/plugin-vue @vue/compiler-sfc vite -D
```

#### 2.2 é…ç½®æ–‡ä»¶

vite.config.js

```
import {defineConfig} from 'vite'
import vue from '@vitejs/plugin-vue' // ä¸é™äºvue, reactä¹Ÿå¯ç”¨è¯¥æ’ä»¶è½¬æ¢

// https://vitejs.dev/config/
export default defineConfig({
    plugins: [vue()]
})
```

#### 2.3 package.json

package.json: 
- æ”¹ç”¨vue3 `npm i vue@next -S`
- æ·»åŠ å‘½ä»¤

```
{
  "name": "vite2-prepare",
  "version": "1.0.0",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "serve": "vite preview"
  },
  "dependencies": {
    "vue": "^3.0.5"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^1.2.4",
    "@vue/compiler-sfc": "^3.0.5",
    "vite": "^2.4.0"
  }
}
```

#### 2.4 index.html

index.html

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link rel="icon" href="/favicon.ico"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Vite App</title>
</head>
<body>
<div id="app"></div>
<script type="module" src="/src/main.js"></script>
</body>
</html>
```

#### 2.5 src\main.js

src\main.js

```
import {createApp} from 'vue'
import App from './App.vue'

createApp(App).mount('#app')
```

#### 2.6 src\App.vue

src\App.vue

```
<template>
    <img src="./assets/ico.jpg"/>
    <HelloWorld msg="Vue3 + Vite"/>
</template>

<script setup>
    import HelloWorld from './components/HelloWorld.vue'
</script>
```

#### 2.7 HelloWorld.vue

src\components\HelloWorld.vue

```
<template>
    <h1>{{ msg }}</h1>
</template>
<script>
    export default {
        name: 'HelloWorld',
        props: {
            msg: String
        },
    }
</script>
```

## 3.é™æ€èµ„æºå¤„ç†

- é™æ€èµ„æºå¤„ç†(å›¾ç‰‡ã€æ–‡å­—)
- æœåŠ¡æ—¶å¼•å…¥ä¸€ä¸ªé™æ€èµ„æºä¼šè¿”å›è§£æåçš„å…¬å…±è·¯å¾„

#### 3.1 æ¨¡æ¿ä¸­å¼•å…¥[å¸¸ç”¨]

src\App.vue

```
<template>
+  <img  src="./assets/avatar.jpg" />
</template>
```

#### 3.2 JSä¸­å¼•å…¥

```
<template>
    <img  src="./assets/avatar.jpg" />
+   <img  :src="imgUrl" />
    <HelloWorld msg="Hello Vue 3 + Vite" />
</template>

<script setup>
    import HelloWorld from './components/HelloWorld.vue'
+   import imgUrl from './assets/avatar.jpg'
</script>
```

#### 3.3 CSSä¸­å¼•å…¥

```
<template>
    <img  src="./assets/avatar.jpg" />
    <img  :src="imgUrl" />
+   <div class="avatar"></div>
    <HelloWorld msg="Hello Vue 3 + Vite" />
</template>

<script setup>
    import HelloWorld from './components/HelloWorld.vue'
    import imgUrl from './assets/avatar.jpg'
</script>
+<style scoped>
+   .avatar{
+     width:200px;
+     height:200px;
+     background-image: url(./assets/avatar.jpg);
+     background-size: contain;
+   }
+</style>
```

#### 3.4 publicç›®å½•

æŠŠèµ„æºæ”¾åˆ°publicç›®å½•å¯ä»¥ç›´æ¥é€šè¿‡æ ¹ç›®å½•è®¿é—®

`public\avatar.jpg`

## 4.é…ç½®åˆ«å

#### 4.1 vite.config.js

```
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
+import {resolve} from 'path';

// https://vitejs.dev/config/
export default defineConfig({
+ resolve:{
+   alias:{
+    '@':resolve('src')
+   }
+ },
  plugins: [vue()]
})
```

## 5.æ ·å¼å¤„ç†

#### 5.1 å…¨å±€æ ·å¼

src\main.js

```
import { createApp } from 'vue'
import App from './App.vue'
+import './global.css'
createApp(App).mount('#app')
```

src\global.css

```
#app {
    background-color: lightgrey;
}
```

#### 5.2 å±€éƒ¨æ ·å¼

##### 5.2.1 scoped

- å½“ `<style>` æ ‡ç­¾æœ‰ `scoped` å±æ€§æ—¶ï¼Œå®ƒçš„ CSS åªä½œç”¨äºå½“å‰ç»„ä»¶ä¸­çš„å…ƒç´ 
- å®ƒä½¿ç”¨äº† `data-v-hash` çš„æ–¹å¼æ¥ä½¿cssæœ‰äº†å®ƒå¯¹åº”æ¨¡å—çš„æ ‡è¯†

src\components\HelloWorld.vue

```
<template>
    <h1>{{ msg }}</h1>
</template>
+<style scoped>
+   h1 {
+     color: #42b983;
+   }
+</style>
```

##### 5.2.2 CSS Modules

- [CSS Modules](https://cn.vitejs.dev/guide/features.html#postcss)
- é€šè¿‡ `module` ä½œç”¨çš„ `style` éƒ½è¢«ä¿å­˜åˆ° `$style` å¯¹è±¡ä¸­

##### 5.2.2.1 å†…è”

src\components\HelloWorld.vue

```
<template>
    <h1>{{ msg }}</h1>
+   <a :class="$style.link">è¶…é“¾æ¥</a>
</template>
+<style module>
+   .link {
+     color: #42b983;
+   }
+</style>
```

##### 5.2.2.2 å¤–è”

- ä»»ä½•ä»¥ .module.css ä¸ºåç¼€åçš„ CSS æ–‡ä»¶éƒ½è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ª CSS modules æ–‡ä»¶
- å¯¼å…¥è¿™æ ·çš„æ–‡ä»¶ä¼šè¿”å›ä¸€ä¸ªç›¸åº”çš„æ¨¡å—å¯¹è±¡ src\components\HelloWorld.vue

```
<template>
    <h1>{{ msg }}</h1>
+   <a :class="style.link">è¶…é“¾æ¥</a>
</template>

<script setup>
+   import style from './HelloWorld.module.css';
</script>
```

src\components\HelloWorld.module.css

```
.link {
    color: #42b983;
}
```

#### 5.3 lesså’Œsass

- Vite ä¹ŸåŒæ—¶æä¾›äº†å¯¹ .scss, .sass, .less, .styl å’Œ .stylus æ–‡ä»¶çš„å†…ç½®æ”¯æŒã€‚æ²¡æœ‰å¿…è¦ä¸ºå®ƒä»¬å®‰è£…ç‰¹å®šçš„ Vite æ’ä»¶ï¼Œä½†å¿…é¡»å®‰è£…ç›¸åº”çš„é¢„å¤„ç†å™¨ä¾èµ–
- å¦‚æœæ˜¯ç”¨çš„æ˜¯å•æ–‡ä»¶ç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡ `style lang="sass"`ï¼ˆæˆ–å…¶ä»–é¢„å¤„ç†å™¨ï¼‰è‡ªåŠ¨å¼€å¯

##### 5.3.1 å®‰è£…

```
npm i less sass -S
```

##### 5.3.2 HelloWorld.vue

src\components\HelloWorld.vue

```
<template>
    <h1>{{ msg }}</h1>
    <a :class="style.link">è¶…é“¾æ¥</a>
+   <h2>less</h2>
+   <h3>sass</h3>
</template>

<script setup>
    import { reactive } from 'vue'
    import style from './HelloWorld.module.css';
</script>
+<style scoped lang="less">
+   @color:red;
+   h2{
+     color:@color;
+   }
+</style>
+<style scoped lang="scss">
+   $color:green;
+   h3{
+     color:$color;
+   }
+</style>
```

#### 5.4 PostCSS

- [postcss](https://cn.vitejs.dev/guide/features.html#postcss)
- å¦‚æœé¡¹ç›®åŒ…å«æœ‰æ•ˆçš„ PostCSS é…ç½® (ä»»ä½•å— postcss-load-config æ”¯æŒçš„æ ¼å¼ï¼Œä¾‹å¦‚ postcss.config.js)ï¼Œå®ƒå°†ä¼šè‡ªåŠ¨åº”ç”¨äºæ‰€æœ‰å·²å¯¼å…¥çš„ CSS

##### 5.4.1 å®‰è£…

```
npm install autoprefixer --save
```

##### 5.4.2 postcss.config.js

```
module.exports = {
    plugins: [
        require('autoprefixer')
    ]
}
```

##### 5.4.3 .browserslistrc

```
>0.2%
not dead
not op_mini all
```

##### 5.4.4 HelloWorld.vue

src\components\HelloWorld.vue

```
<template>
    <h1>{{ msg }}</h1>
    <a :class="style.link">è¶…é“¾æ¥</a>
    <h2>less</h2>
    <h3>sass</h3>
+   <div class="postcss"></div>
</template>

<script setup>
    import { reactive } from 'vue'
    import style from './HelloWorld.module.css';
</script>
<style scoped lang="less">
    @color:red;
    h2{
      color:@color;
    }
</style>
<style scoped lang="scss">
    $color:green;
    h3{
      color:$color;
    }
</style>
+<style scoped>
+   .postcss{
+       height:50px;
+       width:200px;
+       background-color: orange;
+       transform: rotate(90deg);
+   }
+</style>
```






















